# å¸¸è§é—®é¢˜è§£ç­”

## 1. å‰è¨€

> Tips:
> åˆ—ä¸¾äº†ä¸€äº›å¸¸è§çš„é—®é¢˜ã€‚
>
> 	æœ‰é—®é¢˜å¯ä»¥å…ˆæ¥è¿™é‡Œå¯»æ‰¾ï¼Œ
>		å¦‚æœæ²¡æœ‰å¯ä»¥åœ¨ issue é‡Œæã€‚

---

é‡åˆ°é—®é¢˜ï¼Œ å¯ä»¥å…ˆä»ä»¥ä¸‹å‡ ç§æ–¹å¼æŸ¥æ‰¾è§£å†³æ–¹æ¡ˆ

- å°è¯•åœ¨ä½ å‡†å¤‡æé—®è®ºå›çš„ä¸­æœç´¢ç­”æ¡ˆ ( CSDN | GitHub | StackoverFlow )
- å°è¯•æœç´¢äº’è”ç½‘ä»¥æ‰¾åˆ°ç­”æ¡ˆ ( Baidu | Google | newBing)
- å°è¯•é˜…è¯»â€œå¸¸è§é—®é¢˜æ–‡æ¡£â€ï¼ˆFAQï¼‰ä»¥æ‰¾åˆ°ç­”æ¡ˆ ( é“¾æ¥ )
- å°è¯•è‡ªå·±æ£€æŸ¥æˆ–è¯•éªŒä»¥æ‰¾åˆ°ç­”æ¡ˆ ( Codepen æˆ–è€…æœ¬åœ°æ­å»ºé¡¹ç›®ä»¥è¿›è¡Œå°è¯• )
- å°è¯•è¯·æ•™æ‡‚è¡Œçš„æœ‹å‹ä»¥æ‰¾åˆ°ç­”æ¡ˆ ( å¯»æ‰¾ç¾¤å‹çš„å¸®åŠ© )
- å°è¯•é˜…è¯»æºä»£ç ä»¥æ‰¾åˆ°ç­”æ¡ˆ

## 2. å…³äºç¼“å­˜æ–¹é¢çš„é—®é¢˜

**é—®é¢˜èƒŒæ™¯**

soybean-admin çš„é¡¹ç›®é…ç½®é»˜è®¤æ˜¯ Â `localStorage` , åˆå§‹åŒ–æ—¶å¯¹é¡¹ç›®çš„ä¸»é¢˜æ¶‰åŠçš„æ•°æ®è¿›è¡ŒæŒä¹…åŒ–

é¡¹ç›®çš„ç¼“å­˜åˆ†ä¸ºä¸¤æ–¹é¢

- LocalStorage
- SessionStorage

**ç¼“å­˜è¦ç‚¹**

1. LocalStorage é»˜è®¤çš„ç¼“å­˜æœŸé™ä¸º 7 å¤©ï¼ˆ60 _ 60 _ 24 \* 7ï¼‰
   SessinoStorage åˆ™æ˜¯å½“å‰ä¼šè¯ä¿æŒæ—¶æœ‰æ•ˆ
2. ä¿å­˜æ•°æ®çš„æ—¶å€™é»˜è®¤ä¼šå¯¹ç¼“å­˜çš„æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œä½¿å¾—æ•°æ®ä¿å­˜æ— è´Ÿæ‹…
3. è·å–æ•°æ®çš„æ—¶å€™é»˜è®¤ä¼šå¯¹ç¼“å­˜çš„æ•°æ®è¿›è¡Œè§£å¯†ï¼Œä½¿å¾—æ•°æ®ä½¿ç”¨åŒæ ·æ— è´Ÿæ‹…
4. å¯¹äºæœ¬æ¡†æ¶ç¼“å­˜æ–¹é¢çš„ä½¿ç”¨ä¸»è¦é›†ä¸­åœ¨ä¸‹åˆ—å‡ ä¸ªæ–¹æ³•ä¸­ï¼š
   - setï¼šé€šè¿‡ç»™æ–¹æ³•ä¼ é€’å¿…å¡«å‚æ•° `key` ã€`value` å’Œå¯é€‰å‚æ•° `expire` å¯¹æ•°æ®è¿›è¡Œç¼“å­˜
   - getï¼šé€šè¿‡ç»™æ–¹æ³•ä¼ é€’å¿…å¡«å‚æ•° `key` è·å–ç¼“å­˜çš„æ•°æ®
   - removeï¼šé€šè¿‡ç»™æ–¹æ³•ä¼ é€’å¿…å¡«å‚æ•° `key` ç§»é™¤æŒ‡å®šçš„ç¼“å­˜æ•°æ®
   - clearï¼šé€šè¿‡è°ƒç”¨è¯¥æ–¹æ³•ï¼Œæ¸…é™¤å½“å‰æ‰€æœ‰çš„ `Storage` ç›¸å…³çš„ç¼“å­˜æ•°æ®
5. ç¼“å­˜çš„æ•°æ®ç±»å‹éœ€è¦é¢„å…ˆåœ¨ src/typings/storage.d.ts é‡Œé¢å®šä¹‰å¥½

## 3. å…³äºä¿®æ”¹æ–‡ä»¶ç›¸å…³çš„é—®é¢˜

1. å½“ä¿®æ”¹ Â `.env`Â  ç­‰ç¯å¢ƒæ–‡ä»¶åŠ Â `vite.config.ts`Â  æ–‡ä»¶æ—¶ï¼Œvite ä¼šè‡ªåŠ¨é‡å¯æœåŠ¡ã€‚

> ä½†æ˜¯è‡ªåŠ¨é‡å¯æœ‰å‡ ç‡å‡ºç°é—®é¢˜ï¼Œè¯·é‡æ–°è¿è¡Œé¡¹ç›®å³å¯è§£å†³ã€‚

2. å½“ä¿®æ”¹ `.vue` æˆ–è€… `.ts` æ—¶ï¼Œ vite è¿›è¡Œçƒ­éƒ¨ç½²æ—¶æœ‰å‡ ç‡é€ æˆé¡µé¢å¡é¡¿å¯¼è‡´æ— æ³•çœ‹åˆ°

> å®æ—¶ä¿®æ”¹çš„æ•ˆæœï¼Œ`F5` åˆ·æ–°å³å¯è§£å†³

## 4. å‰ç«¯é™æ€è·¯ç”±æ·»åŠ èœå•åæ²¡æ˜¾ç¤º

ğŸ“¢ æœ‰çƒ­å¿ƒç¾¤å‹åé¦ˆï¼šåˆšæ¥è§¦é¡¹ç›®æ—¶ï¼Œå…ˆæ·»åŠ ç»„ä»¶å†æ·»åŠ é™æ€è·¯ç”±ï¼Œä½†æ˜¯é¡µé¢ä¸Šæ— æ³•æ¸²æŸ“èœå•å’Œé¡µé¢ï¼Œé¡¹ç›®ä¸æŠ¥é”™

é—®é¢˜èƒŒæ™¯

é¡¹ç›®åˆå§‹åŒ–è·¯ç”±æ—¶ï¼Œè¯¥åŒå­¦çš„é¡¶çº§è·¯ç”±æ•°æ® meta ä¸­å«æœ‰ hide å±æ€§ä¸º trueã€

æ‰€ä»¥èœå•å’Œé¡µé¢éƒ½æ— æ³•æ˜¾ç¤ºå‡ºæ¥

SoybeanAdmin @0.9.9
ğŸ¯ æ–‡ä»¶ä½ç½®ï¼š src\typings\route.d.ts

**å…³é”®ä»£ç å¦‚ä¸‹æ‰€ç¤º**

```ts
/** è·¯ç”±æè¿° */

interface RouteMeta<K extends AuthRoute.RoutePath> {
	/** è·¯ç”±æ ‡é¢˜(å¯ç”¨æ¥ä½œdocument.titleæˆ–è€…èœå•çš„åç§°) */

	title: string;

	/** è·¯ç”±çš„åŠ¨æ€è·¯å¾„(éœ€è¦åŠ¨æ€è·¯å¾„çš„é¡µé¢éœ€è¦å°†pathæ·»åŠ è¿›èŒƒå‹å‚æ•°) */

	dynamicPath?: AuthRouteUtils.GetDynamicPath<K>;

	/** ä½œä¸ºå•çº§è·¯ç”±çš„çˆ¶çº§è·¯ç”±å¸ƒå±€ç»„ä»¶ */

	singleLayout?: Extract<RouteComponentType, "basic" | "blank">;

	/** éœ€è¦ç™»å½•æƒé™ */

	requiresAuth?: boolean;

	/**

     * å“ªäº›ç±»å‹çš„ç”¨æˆ·æœ‰æƒé™æ‰èƒ½è®¿é—®çš„è·¯ç”±(ç©ºçš„è¯åˆ™è¡¨ç¤ºä¸éœ€è¦æƒé™)

     * @description åç«¯åŠ¨æ€è·¯ç”±æ•°æ®ä¸éœ€è¦è¯¥å±æ€§ï¼Œç›´æ¥ç”±åç«¯æ ¹æ®ç”¨æˆ·è§’è‰²è¿”å›å¯¹åº”æƒé™çš„è·¯ç”±æ•°æ®

     */

	permissions?: Auth.RoleType[];

	/** ç¼“å­˜é¡µé¢ */

	keepAlive?: boolean;

	/** èœå•å’Œé¢åŒ…å±‘å¯¹åº”çš„å›¾æ ‡ */

	icon?: string;

	/** ä½¿ç”¨æœ¬åœ°svgä½œä¸ºçš„èœå•å’Œé¢åŒ…å±‘å¯¹åº”çš„å›¾æ ‡(assets/svg-iconæ–‡ä»¶å¤¹çš„çš„svgæ–‡ä»¶å) */

	localIcon?: string;

	/** æ˜¯å¦åœ¨èœå•ä¸­éšè—(ä¸€äº›åˆ—è¡¨ã€è¡¨æ ¼çš„è¯¦æƒ…é¡µé¢éœ€è¦é€šè¿‡å‚æ•°è·³è½¬ï¼Œæ‰€ä»¥ä¸èƒ½æ˜¾ç¤ºåœ¨èœå•ä¸­) */

	hide?: boolean;

	/** å¤–é“¾é“¾æ¥ */

	href?: string;

	/** æ˜¯å¦æ”¯æŒå¤šä¸ªtabé¡µç­¾(é»˜è®¤ä¸€ä¸ªï¼Œå³ç›¸åŒnameçš„è·¯ç”±ä¼šè¢«æ›¿æ¢) */

	multiTab?: boolean;

	/** è·¯ç”±é¡ºåºï¼Œå¯ç”¨äºèœå•çš„æ’åº */

	order?: number;

	/** å½“å‰è·¯ç”±éœ€è¦é€‰ä¸­çš„èœå•é¡¹(ç”¨äºè·³è½¬è‡³ä¸åœ¨å·¦ä¾§èœå•æ˜¾ç¤ºçš„è·¯ç”±ä¸”éœ€è¦é«˜äº®æŸä¸ªèœå•çš„æƒ…å†µ) */

	activeMenu?: RouteKey;

	/** è¡¨ç¤ºæ˜¯å¦æ˜¯å¤šçº§è·¯ç”±çš„ä¸­é—´çº§è·¯ç”±(ç”¨äºè½¬æ¢è·¯ç”±æ•°æ®æ—¶ç­›é€‰å¤šçº§è·¯ç”±çš„æ ‡è¯†ï¼Œå®šä¹‰è·¯ç”±æ—¶ä¸ç”¨å¡«å†™) */

	multi?: boolean;

	/** æ˜¯å¦å›ºå®šåœ¨tabå¡ä¸å¯å…³é—­  */

	affix?: boolean;
}
```

è§£å†³æ–¹æ¡ˆ

å»é™¤ hide å±æ€§å³å¯æ­£å¸¸æ˜¾ç¤ºèœå•å’Œé¡µé¢

## 5. é¡¹ç›®ä¸­çš„æƒé™è·¯ç”±æ¨¡å¼å¦‚ä½•ç†è§£ï¼Œç›¸åº”çš„æ¸²æŸ“è·¯ç”±çš„æ•°æ®æ ¼å¼æ€ä¹ˆå®šä¹‰

**é—®é¢˜èƒŒæ™¯**

é¡¹ç›®ä¸­çš„æƒé™è·¯ç”±æ¨¡å¼åˆ†ä¸ºï¼š

- é™æ€è·¯ç”±

  é™æ€è·¯ç”±æŒ‡çš„æ˜¯å‰ç«¯é¡¹ç›®ï¼š`src\router\modules\*.ts` ä¸­å®šä¹‰çš„è·¯ç”±æ•°æ®
  é¡¹ç›®èƒ½å¤Ÿæ ¹æ®åœ¨è¿™ä¸ªè·¯å¾„ä¸‹å®šä¹‰è¿›è¡Œè·¯ç”±æ•°æ®çš„è§£æï¼Œå¹¶è‡ªåŠ¨æ¸²æŸ“å‡ºèœå•ä¿¡æ¯

- åŠ¨æ€è·¯ç”±

  åŠ¨æ€è·¯ç”±æŒ‡çš„æ˜¯åå°é¡¹ç›®ä¼ é€’è¿‡æ¥çš„è·¯ç”±æ•°æ®

> é¡¹ç›®ä½¿ç”¨åŠ¨æ€è·¯ç”±æ¨¡å¼è¿›è¡Œæ•°æ®æ¸²æŸ“æ—¶ï¼Œä¼šè‡ªåŠ¨è¦†ç›–è·¯ç”±é¦–é¡µçš„ name å€¼

**æ ¼å¼è¦æ±‚**

- ä¸€çº§èœå•

ç»„ä»¶å®šä¹‰ç¤ºä¾‹ï¼š

```ts
views
â”œâ”€â”€ about
â”‚   â””â”€â”€ index.vue
```

è·¯ç”±å®šä¹‰ç¤ºä¾‹

```ts
const about = {
	name: "about",
	path: "/about",
	component: "self",
	meta: {
		title: "å…³äº",
		requiresAuth: true,
		singleLayout: "basic",
		permissions: ["super", "admin", "test"],
		icon: "fluent:book-information-24-regular",
		order: 7,
	},
};
```

- äºŒçº§èœå•

ç»„ä»¶å®šä¹‰ç¤ºä¾‹ï¼š

```ts
views
â”œâ”€â”€ dashboard
â”‚   â”œâ”€â”€ analysis
â”‚   â”‚   â””â”€â”€ index.vue
â”‚   â”œâ”€â”€ workbench
â”‚   â”‚   â””â”€â”€ index.vue

```

è·¯ç”±å®šä¹‰ç¤ºä¾‹

```ts
const dashboard = {
	name: "dashboard",
	path: "/dashboard",
	component: "basic",
	children: [
		{
			name: "dashboard_analysis",
			path: "/dashboard/analysis",
			component: "self",
			meta: {
				title: "åˆ†æé¡µ",
				requiresAuth: true,
			},
		},
		{
			name: "dashboard_workbench",
			path: "/dashboard/workbench",
			component: "self",
			meta: {
				title: "å·¥ä½œå°",
				requiresAuth: true,
				permissions: ["super", "admin"],
			},
		},
	],
	meta: {
		title: "ä»ªè¡¨ç›˜",
		icon: "carbon:dashboard",
		order: 1,
	},
};
```

- ä¸‰çº§åŠä¸‰çº§ä»¥ä¸Šèœå•

ç»„ä»¶å®šä¹‰ç¤ºä¾‹ï¼š

```ts

views
â”œâ”€â”€ multi-menu
â”‚   â”œâ”€â”€ first
â”‚   â”‚   â”œâ”€â”€ second
â”‚   â”‚   â”‚   â””â”€â”€ index.vue
â”‚   â”‚   â””â”€â”€ second-new
â”‚   â”‚       â””â”€â”€ third
â”‚   â”‚           â””â”€â”€ index.vue

```

è·¯ç”±å®šä¹‰ç¤ºä¾‹ï¼š

```ts
const multiMenu = {
	name: "multi-menu",
	path: "/multi-menu",
	component: "basic",
	children: [
		{
			name: "multi-menu_first",
			path: "/multi-menu/first",
			component: "multi",
			children: [
				{
					name: "multi-menu_first_second",
					path: "/multi-menu/first/second",
					component: "self",
					meta: {
						title: "äºŒçº§èœå•",
						requiresAuth: true,
					},
				},
				{
					name: "multi-menu_first_second-new",
					path: "/multi-menu/first/second-new",
					component: "multi",
					children: [
						{
							name: "multi-menu_first_second-new_third",
							path: "/multi-menu/first/second-new/third",
							component: "self",
							meta: {
								title: "ä¸‰çº§èœå•",
								requiresAuth: true,
							},
						},
					],
					meta: {
						title: "äºŒçº§èœå•(æœ‰å­èœå•)",
					},
				},
			],
			meta: {
				title: "ä¸€çº§èœå•",
			},
		},
	],
	meta: {
		title: "å¤šçº§èœå•",
		icon: "carbon:menu",
		order: 6,
	},
};
```

## 6. Tab é¡µç­¾åˆ·æ–°åä¸€ç‰‡ç©ºç™½

ğŸ“¢ æœ‰çƒ­å¿ƒç¾¤å‹åé¦ˆï¼Œé¡¹ç›®åœ¨å¼€å‘ç¯å¢ƒä¸­å­˜åœ¨ `Tab é¡µåˆ‡æ¢å‡ºç°ç©ºç™½é¡µçš„æƒ…å†µ`

---

è¿™æ˜¯ç”±äºå¼€å¯äº†è·¯ç”±åˆ‡æ¢åŠ¨ç”»ï¼Œä¸”å¯¹åº”çš„é¡µé¢ç»„ä»¶å­˜åœ¨å¤šä¸ªæ ¹å…ƒç´ æ—¶å¯¼è‡´çš„ï¼Œ
å¯ä»¥é€šè¿‡åœ¨é¡µé¢æœ€å¤–å±‚æ·»åŠ ä¸€ä¸ª `<div></div>` ( æˆ–è€…) å³å¯

âŒ **é”™è¯¯ç¤ºèŒƒ**

```vue
<template>
	<!-- æ³¨é‡Šä¹Ÿç®—ä¸€ä¸ªæ ‡ç­¾èŠ‚ç‚¹å“¦  -->
	<p1></p1>
	<p2></p2>
</template>
```

âœ” **æ­£ç¡®ç¤ºèŒƒ**

```vue
<template>
	<div>
		<p1></p1>
		<p2></p2>
	</div>
</template>
```

## 7. ç»„ä»¶å‘½åé—®é¢˜

> ğŸ“¢ æœ‰çƒ­å¿ƒç¾¤å‹åé¦ˆï¼šä¸ºäº†å»¶ç»­é¡¹ç›®é«˜è´¨é‡ä»£ç çš„é£æ ¼ï¼Œæƒ³å­¦ä¹ ä¸€ç§ç›¸å¯¹ç§‘å­¦çš„å‘½åæ–¹å¼ï¼Œä½†è‹¦äºæ²¡æœ‰å…·ä½“çš„æ ¼å¼è§„èŒƒ

**å‘½åè§„èŒƒ**

1.  ç»„ä»¶å‘½åï¼š

- ä½¿ç”¨ PascalCase å‘½åæ ¼å¼ï¼ˆæ¯ä¸ªå•è¯çš„é¦–å­—æ¯å¤§å†™ï¼‰
- ç»„ä»¶åç§°åº”è¯¥ä»¥ä¸€ä¸ªå¤§å†™å­—æ¯å¼€å¤´ï¼Œå› ä¸ºåœ¨ Vue.js ä¸­åªæœ‰ä»¥å¤§å†™å­—æ¯å¼€å¤´çš„ç»„ä»¶æ‰èƒ½è¢«è¯†åˆ«ä¸ºè‡ªå®šä¹‰ç»„ä»¶ã€‚
- ç¡®ä¿ç»„ä»¶åç§°æ˜¯å”¯ä¸€çš„ä»¥é¿å…å‘½åå†²çª
- å‘½åæ—¶åº”è¯¥ä¼˜å…ˆä½¿ç”¨åŠŸèƒ½è€Œä¸æ˜¯æ ·å¼

2.  å±æ€§å‘½åï¼š

- ä½¿ç”¨ camelCase å‘½åæ ¼å¼ï¼ˆç¬¬ä¸€ä¸ªå•è¯å°å†™ï¼Œåé¢çš„å•è¯é¦–å­—æ¯å¤§å†™ï¼‰
- å‘½åæ—¶åº”è¯¥å°½é‡ä½¿ç”¨æœ‰æ„ä¹‰çš„åç§°ï¼Œé¿å…ä½¿ç”¨ç¼©å†™
- å¦‚æœå±æ€§æ˜¯å¸ƒå°”ç±»å‹çš„ï¼Œåˆ™åº”è¯¥ä½¿ç”¨ is æˆ– has åšå‰ç¼€

3.  äº‹ä»¶å‘½åï¼š

- ä½¿ç”¨ kebab-case å‘½åæ ¼å¼ï¼ˆå•è¯ä¹‹é—´ç”¨çŸ­æ¨ªçº¿è¿æ¥ï¼‰
- å‘½åæ—¶åº”è¯¥ä»¥ on ä½œä¸ºå‰ç¼€

4.  æ’æ§½å‘½åï¼š

- ä½¿ç”¨ camelCase å‘½åæ ¼å¼ï¼ˆç¬¬ä¸€ä¸ªå•è¯å°å†™ï¼Œåé¢çš„å•è¯é¦–å­—æ¯å¤§å†™ï¼‰
- å‘½åæ—¶åº”è¯¥å°½é‡ä½¿ç”¨æœ‰æ„ä¹‰çš„åç§°ï¼Œé¿å…ä½¿ç”¨ç¼©å†™

**ä½¿ç”¨èŒƒå›´**

1.  ç»„ä»¶å‘½ååº”è¯¥åœ¨ç»„ä»¶å®šä¹‰æ—¶ä½¿ç”¨
2.  å±æ€§å‘½ååº”è¯¥åœ¨ç»„ä»¶å®šä¹‰æ—¶å’Œç»„ä»¶ä½¿ç”¨æ—¶ä½¿ç”¨
3.  äº‹ä»¶å‘½ååº”è¯¥åœ¨ç»„ä»¶å®šä¹‰æ—¶ä½¿ç”¨ï¼Œå¹¶åœ¨ç»„ä»¶çš„æ¨¡æ¿ä¸­ä½¿ç”¨
4.  æ’æ§½å‘½ååº”è¯¥åœ¨ç»„ä»¶å®šä¹‰æ—¶ä½¿ç”¨ï¼Œå¹¶åœ¨ç»„ä»¶çš„æ¨¡æ¿ä¸­ä½¿ç”¨

## 8. æ¨¡æ¿åŒºåˆ«

[Soybean-Admin](https://github.com/honghuangdc/soybean-admin) åŒ…å«ï¼š

1. åŸºç¡€ä»£ç ç¤ºä¾‹ï¼šè¡¨æ ¼ã€å¡ç‰‡ç­‰
2. åŸºç¡€æ’ä»¶è°ƒç”¨ï¼šå›¾è¡¨ã€åœ°å›¾ã€markdown ç¼–è¾‘å™¨ç­‰
3. å‰ç«¯æƒé™ç¤ºä¾‹ï¼šè‡ªå®šä¹‰æƒé™æŒ‡ä»¤å’Œæƒé™å‡½æ•°ï¼Œå®ç° `super`ã€`admin`ã€`user` å’Œ `test` çš„æƒé™åˆ†é…
4. ä¸»é¢˜é«˜åº¦å®šåˆ¶åŒ–ï¼šå¯ä»¥é€šè¿‡ä¸»é¡µå³ä¾§çš„ âš™ï¸ è¿›è¡Œç³»ç»Ÿä¸»é¢˜çš„å¼€å‘ï¼Œè¿…é€Ÿæ­å»ºä¸€å¥—å±äºè‡ªå·±çš„åå°ç®¡ç†ç³»ç»Ÿ

Soybean-Admin-Thin ç²¾ç®€äº†ä»£ç åçš„æ¨¡æ¿é¡¹ç›®ï¼Œä¸°å¯Œçš„ä¸»é¢˜é…ç½®å¯ä»¥è®©ç³»ç»Ÿæ›´åŠ å‡ºå½©ï¼ŒåŒæ—¶è‡ªç”±åº¦æ›´é«˜ï¼Œæ¨èåœ¨æ­¤ç‰ˆæœ¬ä¸Šè¿›è¡Œä¸šåŠ¡å¼€å‘

## 9. ç¯å¢ƒé—®é¢˜

> å¦‚æœå‡ºç°ä¾èµ–å®‰è£…æŠ¥é”™ï¼Œå¯åŠ¨æŠ¥é”™ç­‰ã€‚å…ˆæ£€æŸ¥ç”µè„‘ç¯å¢ƒæœ‰æ²¡æœ‰å®‰è£…é½å…¨ã€‚

æœ¬åœ°ç¯å¢ƒéœ€è¦å…·å¤‡

- [pnpm 7.x+](https://pnpm.io/)
- [Node.js 14.18+](http://nodejs.org/)
- [Git](https://git-scm.com/)

## 10. ä¾èµ–å®‰è£…é—®é¢˜

- å¦‚æœä¾èµ–å®‰è£…ä¸äº†æˆ–è€…å¯åŠ¨æŠ¥é”™å¯ä»¥å…ˆå°è¯• åˆ é™¤ Â `node_modules`ï¼Œç„¶åé‡æ–°è¿è¡Œ Â `pnpm i` (ä½¿ç”¨ npm çš„åŒå­¦å¯ä»¥æ‰§è¡Œ `npm install`)

- å¦‚æœä¾èµ–å®‰è£…ä¸äº†æˆ–è€…æŠ¥é”™ï¼Œå¯ä»¥å°è¯•åˆ‡æ¢æ‰‹æœºçƒ­ç‚¹æ¥è¿›è¡Œä¾èµ–å®‰è£…ã€‚

- å¦‚æœè¿˜æ˜¯ä¸è¡Œï¼Œå¯ä»¥è‡ªè¡Œé…ç½®å›½å†…é•œåƒå®‰è£…ã€‚

**é•œåƒé…ç½®**

> é¡¹ç›®é»˜è®¤é•œåƒé…ç½®æ–‡ä»¶ .npmrc çš„é…ç½®é¡¹è¯´æ˜

ğŸ¯ æ–‡ä»¶ä½ç½®ï¼š`.npmrc`

```npmrc

registry=https://registry.npmmirror.com/

shamefully-hoist=true

strict-peer-dependencies=false

auto-install-peers=true

```

- `registry`ï¼šæŒ‡å®šäº† npm åŒ…çš„é•œåƒæºï¼Œæœ¬é¡¹ç›®ä¸­ä½¿ç”¨çš„é•œåƒæºæ˜¯æ·˜å®çš„æœ€æ–°é•œåƒã€‚
- `shamefully-hoist`ï¼šè¯¥é€‰é¡¹ç”¨äºå°†ä¾èµ–é¡¹ hoist åˆ°å°½å¯èƒ½é«˜çš„èŠ‚ç‚¹ä¸Šï¼Œæé«˜ä¾èµ–é¡¹çš„å…±ç”¨
- `strict-peer-dependencies`ï¼š è¯¥é€‰é¡¹ç”¨äºå¼ºåˆ¶ peerDependencies çš„ç‰ˆæœ¬å¿…é¡»æ»¡è¶³æ‰€æœ‰ä¾èµ–å…³ç³»
- `auto-install-peers`ï¼šè¯¥é€‰é¡¹ç”¨äºè‡ªåŠ¨å®‰è£… peerDependenciesï¼Œä»¥é¿å…æ‰‹åŠ¨å®‰è£…å¯¼è‡´çš„é—®é¢˜

> å®Œæ•´ä»£ç æŒ‡è·¯ [SoybeanAdminğŸ”œ](https://github.com/honghuangdc/soybean-admin/blob/main/.npmrc)

## 11. ä»£ç å¦‚ä½•ä¿æŒæœ€æ–°

å¦‚æœä½ ä½¿ç”¨äº†è¯¥é¡¹ç›®è¿›è¡Œé¡¹ç›®å¼€å‘ã€‚å¼€å‘ä¹‹ä¸­æƒ³åŒæ­¥æœ€æ–°çš„ä»£ç ã€‚ä½ å¯ä»¥è®¾ç½®å¤šä¸ªæºçš„æ–¹å¼

1.  å…‹éš†ä»£ç 

```
git clone https://github.com/honghuangdc/soybean-admin.git
```

2.  æ·»åŠ è‡ªå·±çš„ git æºåœ°å€

```
# up ä¸ºæºåç§°,å¯ä»¥éšæ„è®¾ç½®
# gitUrlä¸ºå¼€æºæœ€æ–°ä»£ç 
git remote add up gitUrl;
```

3.  æäº¤ä»£ç åˆ°è‡ªå·±çš„ git

```
# æäº¤ä»£ç åˆ°è‡ªå·±çš„ git ä»“åº“
# mainä¸ºåˆ†æ”¯å éœ€è¦è‡ªè¡Œæ ¹æ®æƒ…å†µä¿®æ”¹
git push up main

# åŒæ­¥è‡ªå·±çš„ä»£ç 
# mainä¸ºåˆ†æ”¯å éœ€è¦è‡ªè¡Œæ ¹æ®æƒ…å†µä¿®æ”¹
git pull up main
```

4.  å¦‚ä½•åŒæ­¥å¼€æºæœ€æ–°ä»£ç 

```
git pull origin main
```

> ä½¿ç”¨ Git è¿›è¡Œä»£ç ç®¡ç†çš„æ—¶å€™ï¼Œå…ˆæ›´æ–°ï¼Œé‡åˆ°å†²çªå…ˆè§£å†³ï¼Œç„¶åå†åˆå¹¶

## 12. ä¸ºä»€ä¹ˆæ˜¯ day.js

Day.js æ˜¯ä¸€ä¸ªæç®€çš„ JavaScript åº“ï¼Œå¯ä»¥ä¸ºç°ä»£æµè§ˆå™¨è§£æã€éªŒè¯ã€æ“ä½œå’Œæ˜¾ç¤ºæ—¥æœŸå’Œæ—¶é—´ã€‚

**ä¸ºä»€ä¹ˆä½¿ç”¨ Day.jsï¼Ÿ**

æ–‡ä»¶å¤§å°åªæœ‰ 2KB å·¦å³ï¼Œä¸‹è½½ã€è§£æå’Œæ‰§è¡Œçš„ JavaScript æ›´å°‘ï¼Œä¸ºä»£ç ç•™ä¸‹æ›´å¤šçš„æ—¶é—´ã€‚

**æ²™ç®±æœºåˆ¶**

æ‰€æœ‰æ›´æ”¹ Day.js å¯¹è±¡çš„ API æ“ä½œéƒ½å°†è¿”å›ä¸€ä¸ªæ–°çš„å®ä¾‹ã€‚è¿™æœ‰åŠ©äºé˜²æ­¢é”™è¯¯å’Œé¿å…é•¿æ—¶é—´çš„è°ƒè¯•ä¼šè¯ã€‚

**å›½é™…åŒ–**

Day.js å¯¹å›½é™…åŒ–æœ‰å¾ˆå¤§çš„æ”¯æŒã€‚ä½†æ˜¯ï¼Œé™¤éæ‚¨ä½¿ç”¨å®ƒä»¬ï¼Œå¦åˆ™å®ƒä»¬éƒ½ä¸ä¼šåŒ…å«åœ¨æ‚¨çš„æ„å»ºä¸­ã€‚

## 13. è·¨åŸŸé—®é¢˜

### 1. æ¦‚å¿µè§£é‡Š

      è·¨åŸŸï¼ˆCross-Originï¼‰æŒ‡çš„æ˜¯åœ¨æµè§ˆå™¨ä¸­ï¼Œå½“å‰ç½‘é¡µä»ä¸€ä¸ªä¸åŒçš„åŸŸåã€ç«¯å£æˆ–åè®®è¯·æ±‚èµ„æºï¼Œå¯¼è‡´å®‰å…¨ç­–ç•¥é™åˆ¶ï¼Œä»è€Œå‡ºç°è·¨åŸŸé—®é¢˜ã€‚

**è·¨åŸŸçš„å½¢æˆåŸå› **

1.  åŒæºç­–ç•¥ï¼šæµè§ˆå™¨çš„å®‰å…¨ç­–ç•¥é™åˆ¶äº†é¡µé¢åªèƒ½è¯·æ±‚åŒä¸€åŸŸåä¸‹çš„èµ„æºï¼Œå…¶ä»–åŸŸåä¸‹çš„èµ„æºä¸èƒ½è®¿é—®ã€‚
2.  åŸŸåä¸åŒï¼šè¯·æ±‚çš„èµ„æºåœ¨ä¸åŒçš„åŸŸåä¸‹ï¼Œä¾‹å¦‚ Â [http://www.aaa.com]Â  å’Œ Â [http://www.bbb.com]
3.  ç«¯å£ä¸åŒï¼šè¯·æ±‚çš„èµ„æºåœ¨åŒä¸€åŸŸåä¸‹ï¼Œä½†ç«¯å£ä¸åŒï¼Œä¾‹å¦‚ Â [http://www.xxx.com]Â  å’Œ Â [http://www.example.com:8080]
4.  åè®®ä¸åŒï¼šè¯·æ±‚çš„èµ„æºåœ¨åŒä¸€åŸŸåä¸‹ï¼Œä½†åè®®ä¸åŒï¼Œä¾‹å¦‚ Â [http://www.xxx.com]Â  å’Œ Â [http://www.xxx.com]

**æ­£å‘ä»£ç†å’Œåå‘ä»£ç†**

1.  æ­£å‘ä»£ç†

_æ­£å‘ä»£ç†å³æ˜¯å®¢æˆ·ç«¯ä»£ç†, ä»£ç†å®¢æˆ·ç«¯, æœåŠ¡ç«¯ä¸çŸ¥é“å®é™…å‘èµ·è¯·æ±‚çš„å®¢æˆ·._

> åœ¨æœ¬é¡¹ç›®ä¸­æŒ‡çš„æ˜¯é€šè¿‡é…ç½® `Vite` å®ç°æ­£å‘ä»£ç†

2. åå‘ä»£ç†

<u>æ­£å‘ä»£ç†å³æ˜¯å®¢æˆ·ç«¯ä»£ç†, ä»£ç†å®¢æˆ·ç«¯, æœåŠ¡ç«¯ä¸çŸ¥é“å®é™…å‘èµ·è¯·æ±‚çš„å®¢æˆ·ç«¯.</u>

> ä¸€èˆ¬æ˜¯å°† Dist ç›®å½•éƒ¨ç½²åˆ° `Nginx` æœåŠ¡å™¨åï¼Œé€šè¿‡é…ç½® `nginx.conf` å®ç°åå‘ä»£ç†

### 2.å¸¸è§è§£å†³æ–¹æ¡ˆ

å®é™…çš„å¼€å‘åœºæ™¯å¯èƒ½é‡åˆ°çš„è·¨åŸŸæœ‰ä¸¤ç§æƒ…å†µï¼Œ
æœ¬åœ°å¼€å‘è·¨åŸŸå’Œç”Ÿäº§ç¯å¢ƒè·¨åŸŸï¼š

**æœ¬åœ°å¼€å‘è·¨åŸŸ**

åœ¨è¿›è¡Œæœ¬åœ°å¼€å‘æ—¶ï¼Œä¸€èˆ¬æ¯”è¾ƒå¸¸è§çš„æ˜¯ä½¿ç”¨ä¸‹é¢ä¸‰ç§æ–¹å¼è¿›è¡Œå¤„ç†ï¼š

1. Vite çš„ Proxy é…ç½®æ­£å‘ä»£ç† ï¼ˆé¡¹ç›®æœ¬åœ°å¼€å‘ç¯å¢ƒä½¿ç”¨çš„æ­¤æ–¹æ¡ˆï¼‰
2. åå°æœåŠ¡å™¨å¼€å¯ CORS
3. å‰ç«¯æœåŠ¡å™¨ Nginx é…ç½®åå‘ä»£ç†

> æœ¬åœ°å¼€å‘ç¯å¢ƒä¸­ï¼Œé»˜è®¤å¼€å¯æœ¬åœ°ä»£ç†

**ç”Ÿäº§ç¯å¢ƒè·¨åŸŸ**

é¡¹ç›®éƒ¨ç½²è‡³ç”Ÿäº§ç¯å¢ƒåï¼Œä¸€èˆ¬ä½¿ç”¨ Nginx è¿›è¡Œè¯·æ±‚è½¬å‘è‡³åå°æœåŠ¡å™¨

- SoybeanAdmin @0.9.9

ğŸ¯ æ–‡ä»¶ä½ç½®ï¼š `\.env-config.ts`

```ts
# å…³é”®ä»£ç å¦‚ä¸‹æ‰€ç¤º

/** ä¸åŒè¯·æ±‚æœåŠ¡çš„ç¯å¢ƒé…ç½® */

const serviceEnv: ServiceEnv = {

Â  dev: {

Â  Â  url: 'http://localhost:8080'

Â  },

Â  test: {

Â  Â  url: 'http://localhost:8080'

Â  },

Â  prod: {

Â  Â  url: 'http://localhost:8080'

Â  }

};
```

> å®Œæ•´ä»£ç æŒ‡è·¯ [SoybeanAdminğŸ”œ](https://github.com/honghuangdc/soybean-admin/blob/main/.env-config.ts)

âš™ Nginx é…ç½®å‚è€ƒ

```java
# nginx.conf


server {
  listen       8080;
  server_name  localhost;

  # æ¥å£ä»£ç†ï¼Œç”¨äºè§£å†³è·¨åŸŸé—®é¢˜
  location /url {
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

    # åå°æ¥å£åœ°å€
    proxy_pass http://xxx.xxx.xx.x:8080/api;

    proxy_redirect default;
    add_header Access-Control-Allow-Origin *;
    add_header Access-Control-Allow-Headers X-Requested-With;
    add_header Access-Control-Allow-Methods GET,POST,OPTIONS;
  }
}

```

å°±å¯ä»¥é€šè¿‡ `http://localhost:8080` è®¿é—®åˆ°è¿™ä¸ªå·²éƒ¨ç½²é¡¹ç›®çš„é¦–é¡µ

> é¡¹ç›®ä¸­é…ç½®ç”Ÿäº§ç¯å¢ƒç«¯å£å¿…é¡»å’Œ `nginx.conf` ä¸­ listen é…ç½®çš„ ç«¯å£å· ä¿æŒä¸€è‡´
>
> å¦‚æœåå°æœåŠ¡å¼€å¯ CROSï¼Œ å‰å°æœåŠ¡åˆ™ä¸éœ€è¦é¢å¤–é…ç½®

## 14. æ¥å£è¯·æ±‚æˆåŠŸï¼Œæ— æ³•è·å–åˆ°å“åº”æ•°æ®

> ğŸ“¢ æœ‰çƒ­å¿ƒç¾¤å‹åé¦ˆï¼šé¡¹ç›®åœ¨æ¥å£æ—¶ï¼Œè¯·æ±‚å‘é€æˆåŠŸ , å¯ä»¥åœ¨è¯·æ±‚çš„å“åº”ä½“ä¸­çœ‹åˆ°æ•°æ®ï¼Œä½†æ˜¯æ— æ³•å°†æ•°æ®æ¸²æŸ“åˆ°é¡µé¢ä¸­

**é—®é¢˜èƒŒæ™¯**

è¿™é‡Œæ˜¯ç”±äºä½œè€…å¤§å¤§åœ¨è¿›è¡Œ `Axios` å°è£…ç»„ä»¶ç±»çš„è¿‡ç¨‹ä¸­

é»˜è®¤å°†ä»£è¡¨è¯·æ±‚æˆåŠŸçš„å“åº”çŠ¶æ€ç å®šä¹‰ä¸ºå¸¸è§çš„ `200` ï¼Œ
å¹¶ä¸”åœ¨å“åº”æ‹¦æˆªå™¨ä¸­å¯¹è¯¥çŠ¶æ€è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœè‡ªå®šä¹‰çš„ä»£è¡¨è¯·æ±‚æˆåŠŸçš„çŠ¶æ€ç ä¸æ˜¯`200`ï¼Œå°±ä¼šå¯¹è¯¥è¯·æ±‚çš„æ•°æ®æŒ‰ç…§å“åº”å¤±è´¥çš„é€»è¾‘è¿›è¡Œè§£æ„ï¼Œé€ æˆè·å–åˆ°çš„ data ä¸º `null`ï¼Œ

è¿™å°±ä¼šé€ æˆè¯·æ±‚æˆåŠŸä½†æ˜¯ä¸ä¸€å®šèƒ½è·å–åˆ°é¢„æœŸçš„å“åº”å‚æ•°çš„ç°è±¡ã€‚

**è§£å†³æ–¹æ¡ˆ**

å¯ä»¥é€šè¿‡ä¿®æ”¹å¦‚ä¸‹ä»£ç ä¸­çš„ `successCode` ä¸åå°æœåŠ¡ä¸­å®šä¹‰çš„è¡¨ç¤ºä¸šåŠ¡é€»è¾‘è¯·æ±‚æˆåŠŸçš„çŠ¶æ€ç ä¿æŒä¸€è‡´ï¼Œå³å¯é¡ºåˆ©è¯·æ±‚åˆ°åå°æ¥å£çš„æ•°æ®

- SoybeanAdmin @0.9.9

ğŸ¯ æ–‡ä»¶ä½ç½®ï¼š `src\service\request\instance.ts`

```ts
# å…³é”®ä»£ç å¦‚ä¸‹æ‰€ç¤º

Â  /**
Â  Â *
Â  Â * @param axiosConfig - axiosé…ç½®
Â  Â * @param backendConfig - åç«¯è¿”å›çš„æ•°æ®é…ç½®
Â  Â */

Â  constructor(

Â  Â  axiosConfig: AxiosRequestConfig,

Â  Â  backendConfig: Service.BackendResultConfig = {

Â  Â  Â  codeKey: 'code',

Â  Â  Â  dataKey: 'data',

Â  Â  Â  msgKey: 'message',
Â  Â  Â 
Â  Â  Â  successCode: 200

Â  Â  }

Â  ) {

Â  Â ...

Â  }

```

> å®Œæ•´ä»£ç æŒ‡è·¯ [SoybeanAdminğŸ”œ](https://github.com/honghuangdc/soybean-admin/blob/main/src/service/request/instance.ts)

## 15. é¡¹ç›®ä¸­ä½¿ç”¨ Iframe åµŒå…¥æœ¬åœ°çš„ HTML æ—¶å‡ºç° 404 çš„é—®é¢˜

ğŸ“¢ æœ‰çƒ­å¿ƒç¾¤å‹åé¦ˆï¼šåœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸šåŠ¡éœ€è¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ Iframe åµŒå…¥æœ¬åœ°çš„ HTML æ–‡ä»¶, ä½†æ˜¯åµŒå…¥åæ— æ³•æ˜¾ç¤ºé¡µé¢å†…å®¹ï¼Œæ˜¾ç¤ºçš„æ˜¯ 404 é¡µé¢

**é—®é¢˜èƒŒæ™¯**

æ•´ä¸ªé¡¹ç›®éƒ½æ˜¯å•é¡µé¢åº”ç”¨ï¼Œæ‰€ä»¥ä»è·¯å¾„é‡Œå»åŠ è½½ä¸åŒçš„ HTML æœ¬èº«å°±ä¸æ”¯æŒ

è¦ä¹ˆåˆ›å»ºå¤šé¡µé¢åº”ç”¨

è¦ä¹ˆåœ¨å•é¡µé¢åº”ç”¨é‡Œé€šè¿‡ iframe å»åŠ è½½å…¶å®ƒçš„ HTML

**è§£å†³æ–¹æ¡ˆ**

é›†æˆ vite-plugin-mpa æ’ä»¶ï¼Œå…·ä½“æ“ä½œæ­¥éª¤å¦‚ä¸‹

ä¸‹é¢æ˜¯åœ¨ Vue é¡¹ç›®ä¸­ä½¿ç”¨ vite-plugin-mpa æ’ä»¶å¹¶é€šè¿‡ iframe åµŒå…¥æœ¬åœ° HTML æ–‡ä»¶çš„æ­¥éª¤ï¼š

1.  åˆ›å»º Vue é¡¹ç›®ï¼šå¦‚æœä½ è¿˜æ²¡æœ‰åˆ›å»º Vue é¡¹ç›®ï¼Œå¯ä»¥ä½¿ç”¨ Vue CLI åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ã€‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

    ```shell
    vue create your-project-name
    ```

2.  å®‰è£… vite-plugin-mpa æ’ä»¶ï¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

    ```shell
    npm install vite-plugin-mpa --save-dev
    ```

3.  é…ç½® vite.config.js æ–‡ä»¶ï¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º Â `vite.config.js`Â  çš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯ vite çš„é…ç½®æ–‡ä»¶ã€‚åœ¨ Â `vite.config.js`Â  æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š

    ```shell
    const { resolve } = require('path');
    const { defineConfig } = require('vite');
    const MpaPlugin = require('vite-plugin-mpa');

    module.exports = defineConfig({
      build: {
        rollupOptions: {
          input: {
            main: resolve(__dirname, 'index.html'),
            about: resolve(__dirname, 'about.html'),
          },
        },
      },
      plugins: [
        MpaPlugin({
          // å°† HTML æ–‡ä»¶è¾“å‡ºåˆ° dist/mpa ç›®å½•ä¸‹
          htmlDir: 'mpa',
          // è®¾ç½®æ¯ä¸ªé¡µé¢çš„æ ‡é¢˜
          setTitle: true,
          // è®¾ç½®æ¯ä¸ªé¡µé¢çš„ meta æ ‡ç­¾
          setMeta: true,
          // è®¾ç½®æ¯ä¸ªé¡µé¢çš„ link æ ‡ç­¾
          setLink: true,
          // è®¾ç½®æ¯ä¸ªé¡µé¢çš„ script æ ‡ç­¾
          setScript: true,
        }),
      ],
    });
    ```

    è¿™é‡Œæˆ‘ä»¬é…ç½®äº†ä¸¤ä¸ªå…¥å£æ–‡ä»¶ Â `index.html`Â  å’Œ Â `about.html`ï¼Œå¹¶æŠŠ HTML æ–‡ä»¶è¾“å‡ºåˆ° Â `dist/mpa`Â  ç›®å½•ä¸‹ã€‚æˆ‘ä»¬è¿˜å¼€å¯äº† Â `setTitle`ã€`setMeta`ã€`setLink`Â  å’Œ Â `setScript`Â  è¿™å››ä¸ªé€‰é¡¹ï¼Œå®ƒä»¬ä¼šä¸ºæ¯ä¸ªé¡µé¢è®¾ç½®å¯¹åº”çš„ titleã€metaã€link å’Œ script æ ‡ç­¾ã€‚

4.  åˆ›å»ºæœ¬åœ° HTML æ–‡ä»¶ï¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸¤ä¸ªæœ¬åœ° HTML æ–‡ä»¶ï¼Œåˆ†åˆ«å‘½åä¸º Â `index.html`Â  å’Œ Â `about.html`ã€‚è¿™é‡Œçš„è·¯å¾„è¦å’Œ Â `vite.config.js`Â  ä¸­çš„è¾“å…¥è·¯å¾„ä¸€è‡´ã€‚

5.  åœ¨ Vue ä¸­åµŒå…¥ iframeï¼šåœ¨ Vue ç»„ä»¶ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ iframe æ ‡ç­¾åµŒå…¥æœ¬åœ° HTML æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼š

    ```vue
    <template>
    	<div>
    		<iframe src="./mpa/index.html" height="600"></iframe>
    		<iframe src="./mpa/about.html" height="600"></iframe>
    	</div>
    </template>
    ```

    è¿™é‡Œçš„ Â `src`Â  å±æ€§å€¼è¦å’Œ Â `vite.config.js`Â  ä¸­è¾“å‡ºçš„ HTML æ–‡ä»¶è·¯å¾„ä¸€è‡´ã€‚

6.  å¯åŠ¨é¡¹ç›®ï¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨é¡¹ç›®ï¼š

    ```shell
    npm run dev
    ```

    æ­¤æ—¶ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è®¿é—® Â `http://localhost:3000`Â  æŸ¥çœ‹é¡¹ç›®ã€‚åœ¨ Vue ç»„ä»¶ä¸­åµŒå…¥çš„ä¸¤ä¸ª iframe ä¸­ï¼Œåˆ†åˆ«æ˜¾ç¤ºäº†æœ¬åœ°çš„ Â `index.html`Â  å’Œ Â `about.html`Â  ç•Œé¢ã€‚

ç»è¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæˆ‘ä»¬å°±æˆåŠŸåœ°å°†æœ¬åœ° HTML æ–‡ä»¶åµŒå…¥åˆ° Vue é¡¹ç›®ä¸­äº†ã€‚å½“æˆ‘ä»¬ä¿®æ”¹æœ¬åœ° HTML æ–‡ä»¶æ—¶ï¼ŒVite ä¼šè‡ªåŠ¨é‡æ–°æ„å»ºé¡¹ç›®ï¼Œæ›´æ–° HTML æ–‡ä»¶ï¼Œå¹¶é‡æ–°åŠ è½½ iframe å†…å®¹ã€‚

## 16. é¡¹ç›®éƒ¨ç½²åˆ°æœåŠ¡å™¨åè¿›è¡Œå›¾ç‰‡ä¸Šä¼ çš„æ—¶å€™ï¼Œæ§åˆ¶å°æŠ¥é”™

> ğŸ“¢ æœ‰çƒ­å¿ƒç¾¤å‹åé¦ˆï¼šåœ¨è¿›è¡Œé¡¹ç›®å¼€å‘æ—¶ï¼Œ ä½¿ç”¨ upload ç»„ä»¶è¿›è¡Œå›¾ç‰‡ä¸Šä¼ æ—¶ï¼Œæµè§ˆå™¨æ§åˆ¶å°æŠ¥é”™

![](../assets/qa01.png)

**é—®é¢˜èƒŒæ™¯**

è¿™ä¸ªé—®é¢˜æ˜¯ç”±äº `mock.js` å¯¼è‡´çš„ï¼Œå› ä¸ºæºç ä¿®æ”¹äº† `XHR` å¯¹è±¡

åªè¦æ˜¯å®‰è£… `mock` å°±æœ‰é—®é¢˜ï¼Œä½†æ˜¯ä¸€èˆ¬åœ¨å¼€å‘é˜¶æ®µæ²¡é—®é¢˜ï¼Œç”Ÿäº§ç¯å¢ƒæœ‰å‡ ç‡å‡ºç°è¿™ç§æƒ…å†µ

é¡¹ç›®é‡Œå·²ç»é’ˆå¯¹æ­¤é—®é¢˜åœ¨ patch æ–‡ä»¶å¤¹ä¸­æ‰“è¡¥ä¸

**è§£å†³æ–¹æ¡ˆ**

- SoybeanAdmin @0.9.6

1. å…ˆæŠŠä¾èµ–çš„æºä»£ç æ›´æ”¹ä¸€ä¸‹ï¼Œç„¶åæ‰§è¡Œ pnpm patch `ä¾èµ–å`ï¼Œç”Ÿæˆ `patches` çš„ä¿®æ”¹è®°å½•

2. é‡æ–°æ‰§è¡Œ `pnpm i` å°±ä¼šç›´æ¥å°†ä¿®æ”¹çš„ npm åŒ…åº”ç”¨åˆ° `node_modules` ä¸­

> ç›¸å…³ä»£ç æŒ‡è·¯ï¼š [SoybeanAdmin](https://github.com/honghuangdc/soybean-admin/blob/main/patches/mockjs%401.1.0.patch)

## 17. é¡¹ç›®æ‰“åŒ…æ—¶æ¯”è¾ƒå¤§ï¼Œåº”è¯¥å¦‚ä½•ä¿®æ”¹é¿å…æ­¤è­¦å‘Š

å¾…å®š

![](../assets/qa02.png)
